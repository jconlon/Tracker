<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/></head><body><h1 id="TrackerStoreMongoDBandLocationService" style="text-align: center;">Tracker Store MongoDB and Location Service</h1><p>com.verticon.tracker.store.mongo Version 2.1.1</p><ol class="toc" style="list-style: disc;"><li><a href="#TrackerStoreMongoDBandLocationService">Tracker Store MongoDB and Location Service</a><ol style="list-style: disc;"><li><a href="#Introduction">Introduction</a></li><li><a href="#UsersofTrackerDesktop">Users of Tracker Desktop</a><ol style="list-style: disc;"><li><a href="#DesktopSupportRequirements">Desktop Support Requirements</a></li></ol></li><li><a href="#iRouterSupport">iRouter Support</a><ol style="list-style: disc;"><li><a href="#iRouterComponentRequirements">iRouter Component Requirements</a></li></ol></li><li><a href="#Implementation">Implementation</a></li><li><a href="#iRouterExample">iRouter Example</a><ol style="list-style: disc;"><li><a href="#iRouterMonitorViewoftheDemonstration">iRouter Monitor View of the Demonstration</a></li></ol></li><li><a href="#PoweredbyEclipseTechnology">Powered by Eclipse Technology</a></li><li><a href="#License">License</a></li></ol></li></ol><h2 id="Introduction">Introduction</h2><p>Tracker Store MongoDB and Location Service is a multi-user enterprise class solution for storage and retrieval of Livestock Business Intelligence documents, the dynamic importing of animals and the tracing of animal movements and locations.</p><p>Visit <a href="http://verticon.com/products/iRouter.html">Tracker iRouter</a> for more details.</p><h2 id="UsersofTrackerDesktop">Users of Tracker Desktop</h2><p>Authorized users of the Tracker Desktop can archive Premises animal life data and event histories to a MongoDB data store. Authorized users can also retrieve information about  </p><ul><li>a single animal and its<ul><li>event history </li><li>route between premises locations</li></ul></li><li>all the animals in a premises within a specified time frame<ul><li>event histories of all animals</li></ul></li></ul><p><img border="0" src="images/Premises_Desktop.png"/></p><h3 id="DesktopSupportRequirements">Desktop Support Requirements</h3><ol><li>Administration <ol><li>User designated as an Administrator</li><li>Manages access rules for all other users<ol><li>Access rules are document based and are loaded by the administrator into MongoDB</li><li>Users are identified by the user name and the machine name they are logged into</li><li>Users are authorized to publish animal event histories from one or more premises</li><li>Users must be authorized by the administrator to read animal event histories from other premises than their own</li></ol></li></ol></li><li>Tracker Desktop archival of Agriculture GeoLocations, Premises and Animals<ol><li>Archival support for one or multiple Premises</li></ol></li><li>Tracker Desktop retrieval <ol><li>All animals in a Premises<ol><li>Given a date range and premises uri a retrieval request will generate Tracker premises documents containing animals that were resident during the given date range</li></ol></li><li>Single animal<ol><li>Given an animal id, creates KML documents for individual animals showing Geo location routing between Premises locations</li></ol></li></ol></li><li>Eclipse BIRT will support the reporting of geo locations, animal histories and movements </li></ol><h2 id="iRouterSupport">iRouter Support</h2><p>iRouter sensor and actuator networks can now use MongoDB for real time transaction recording of any Tracker Premises events.  </p><p><img border="0" src="images/Premises_iRouter.png"/></p><h3 id="iRouterComponentRequirements">iRouter Component Requirements</h3><ol><li>Animal Tag recording to MongoDB<ol><li>Tags can contain one or more events</li><li>Runs in iRouter appliances for headless applications for automatic recording of tag events from one or more fixed sensors</li><li>Runs in Tracker Desktop BI Toolkit for hands free saving of animals, tags and events originating in iRouter sensor networks</li><li>Multiple components instances can be configured to connect to one or more MongoDB stores</li><li>Supports event updates to existing animals and the runtime creation of new animals</li><li>iRouter Consumer component that leverages the power of the iRouter infrastructure for creating complex sensor and actuator based solutions.</li><li>Configurable instances can support one or more tag readers or virtual tag producers</li></ol></li></ol><h2 id="Implementation">Implementation</h2><p>An OSGi Declarative Services Factory component which implements an iRouter (Tag) Consumer and a com.verticon.tracker.store.ITrackerStore.</p><h2 id="iRouterExample">iRouter Example</h2><p>Goal: Demonstrate an iRouter component configuration that highlights the functionality of the Tracker Mongo Store</p><ol><li>Components used<ol><li>TruTest Proxy <ul><li>This will serve at the top of the event production chain to produce events associated with a TruTest scale head indicator<ul><li>The scale will produce events as the weights of the animals are changed, these weight measurements will be sent in the <em>raw.animal.weight</em> scope</li><li>When an animal EID is detected on the scale head that eid will be produced in the <em>animal.eid</em> scope</li><li>When the operator presses the Enter Button that event will be produced in the <em>transaction.state</em> scope  </li></ul></li></ul></li><li>Premises Event Producer<ul><li>This component will consume all products sent by the TruTest Proxy and on the detection of a <em>transaction.state</em> indicating that the operator pressed the Enter Button, this component will produce the last measurement received and identify it with the animal eid.</li></ul></li><li>Premises Animal Producer<ul><li>This component also sits towards the top of the event production chain, but consumes Animal EIDs on the <em>animal.eid</em> scope and Enter Button presses on the <em>transaction.state</em> scope that have originated on the TruTest Proxy.  Associated with this component is a <em>URI</em> referencing an Tracker Premises Animal template in an external document. Production cycle of this component starts when a Enter Button press is detected. Then the Animal Template is copied, given the EID from the TruTest, and sent to consumers.</li></ul></li><li>Tracker Mongo Store consumes products from the Premises Event Producer and the Premises Animal Producer and creates these on the MongoDB. </li></ol></li><li>Startup and Configuration<ol><li>MongoDB must be installed and running on the local host</li><li>Startup Tracker</li><li>From the <em>Configuration</em> menu, invoke <em>Import iRouter Configuration</em></li><li>Import that configuration <em>autotype.metatype</em> document in this project</li></ol></li><li>TruTest simulator<ol><li>Download and install the Tracker simulator product </li><li>In the installation directory run the simulator executable</li><li>In a web browser go to <a href="http://localhost:8081/client/devices">Simulated Devices</a> and start the TruTest simulator</li><li>Select a TruTest simulator </li><li>When the TruTest simulator comes up the <em>Connection</em> should be Y</li><li>Change the EID, the weight and press the record button to simulate a transaction</li></ol></li></ol><h4 id="iRouterMonitorViewoftheDemonstration">iRouter Monitor View of the Demonstration</h4><p>In the iRouter Monitor View you should see the components displayed something like:</p><p><img border="0" src="images/irouterMonitor.png"/></p><h2 id="PoweredbyEclipseTechnology">Powered by Eclipse Technology</h2><p>Verticon&#8217;s Mongo Store offering is powered by Eclipse technology and includes Eclipse plug-ins that<br/>can be installed and used with other Eclipse-based offerings.</p><h2 id="License">License</h2><p>Verticon, Inc. makes available all content in this plug-in (&quot;Content&quot;).  Unless otherwise <br/>indicated below, the Content is provided to you under the terms and conditions of the<br/>Eclipse Public License version 1.0 (&quot;EPL 1&quot;).  A copy of the EPL 1 is available <br/>at <a href="http://www.eclipse.org/legal/epl-v10.html">http://www.eclipse.org/legal/epl-v10.html</a>.<br/>For purposes of the EPL, &quot;Program&quot; will mean the Content.</p><p>If you did not receive this Content directly from the Verticon,Inc., the Content is <br/>being redistributed by another party (&quot;Redistributor&quot;) and different terms and conditions may<br/>apply to your use of any object code in the Content.  Check the Redistributor&#8217;s license that was <br/>provided with the Content.  If no such license exists, contact the Redistributor.  Unless otherwise<br/>indicated below, the terms and conditions of the EPL 1 still apply to any source code in the Content<br/>and such source code may be obtained at <a href="http://tracker.verticon.com/index.html">http://tracker.verticon.com/index.html</a>.</p></p></body></html>