h1. Abbott Bleed Operations Network Project

__Version 0.1.2__

__12/16/09__

h2. Introduction

A network system for the collection, integration and management of animal bleed event,  animal life data and production project management.
 
h2. Implementation Phases

h3. Phase One -  Autonomous Bleed System and Fall Back Implementation

Phase One of the Bleed Operations Network Information System is the initial step in migration from the previous experimental prototypes to a production implementation.  Phase One will provide functionality for two bleed/weigh stations storing collected bleed event data to two autonomous Tru-Test indicators.

All critical production systems require the documenting and contingency planning for the deployment of a fall back system. Since a fall back system is necessary to insure that network or system failures do not halt critical production, Phase One of the Bleed Operations Network Information System will also serve as the basis for documenting and testing of a Fall Back Implementation.

h4. Goals

The goal of phase 1 is to:

# Migrate the two dissimilar prototype systems to two functional, autonomous (non-networked) system.  
# Each system will be comprised of a common set of components. 
# Document components and component configurations so that the system configuration of this phase may also serve as templates for a Bleed Operations Network Information System Fall Back implementation . 

h4. Implementation Steps

h5. Step One - Create and Document a Manual Fall Back System

Step One of Phase One will create, document, and make operations personnel familiar with a Bleed Operations (Autonomous) Manual Fall Back System.  This system will be the most basic fall back system. This manual fall back system will be utilized in the future in case of failure of the Bleed Room Local Network (LAN) or the Sensor Sub-Network (Bluetooth).

Migrate the 'O' (first) Prototype system to offer basic manual entry functionality (no bluetooth reader support) 

# Unplug PLC Controller 
## Note: functionality provided by this prototype controller will be restored in Phase Two of the Bleed Operations Network.
# Setup Tru-Test indicator to eliminate EID fields from Weighing Screen and LifeData.
# Test system 
## Insure that operator can enter Tag, Species, BW Mult, into animal life data and combined these with Date, Time, Act BW, and Animal Weight for each bleed/weight event.
## Insure that a project manager can download saved bleed/weigh events to a laptop plugged into the Tru-Test using the Tru-Test Link 3000 utility. 
# Document System
## Tru-Test configuration
## Cable connections Tru-Test to Mettler Balance
## Cable types
## Mettler Balance configuration

h5. Step Two - Create and Document an interium RFID Fall Back System

In the case of Local Network (LAN) failure within the bleed room, bleed station operators and project managers will have the option of configuring bleed stations to operate autonomously but in contrast to step one (see above) to add RFID (Bluetooth) Animal Tag reading support.  

Migrate the 'K' (second) Prototype system to offer an interium bluetooth reader support functionality.

# Unplug Appliance Controller 
## Note: functionality provided by this prototype controller will be restored in Phase Two of the Bleed Operations Network.
# Setup Tru-Test indicator Serial port Con2 to input data to Act BW field.
# Obtain a serial female to male 9 pin cable similar to the one used in Step One and connect the Mettler Balance to the Tru-Test indicator's Con2 serial port. 
# Use the Mettler Balance Configuration documented in Step One above to configure the Mettler balance in a similar way. 
# Test system 
## Insure that operator can read an animal's tag and it shows up on the Indicator's weighing screen.  For new animals enter Tag, Species, BW Mult, into animal life data and combined these with Date, Time, Act BW, and Animal Weight for each bleed/weight event.
## Insure that reading the EID a second time will display all the previously entered values.
## Insure that a project manager can download saved bleed/weigh events to a laptop plugged into the Tru-Test indicator using the Tru-Test Link 3000 utility. 
# Document System
## Tru-Test configuration
# Note: The current Tru-Test indicator used in this step is an integrated Bluetooth indicator.  This indicator will be replaced in Step Four with an indicator that does not have integrated Bluetooth functionality.  Bluetooth functionality provided in future Phases will not require indicators with integrated bluetooth functionality as bluetooth will be provided at the controller level. Step Three and Four of this phase will utilize external bluetooth adapters (Dongles) to add bluetooth to the autonomous systems of this phase.  Bluetooth dongles utilized in this phase will be used for future production and Fall back configurations.

h5. Step Three - Migrate Prototype 'O' to final RFID Fall Back System

# Add Bluetooth dongle to Tru-Test indicator Serial port Con1.
# Setup Tru-Test indicator Serial port Con1 to input data to EID field.
# Setup Tru-Test indicator LifeData to include EID field 
# Setup Tru-Test indicator Weighing Screen LHS to add EID field
# Test
# Document Tru-Test indicator configuration
	

h5. Step Four - Migrate Prototype 'K' to final RFID Fall Back System	

# Replace Tru-Test indicator with non-integrated BlueTooth.
# Add Bluetooth dongle to Tru-Test indicator Serial port Con1.
# Connect balance to Tru-Test indicator Serial port Con2.
# Configure balance as documented in configuration from Step Three.
# Test

h4. Notes

* Following actions deferred to phase 2 - To accommodate Abbott end of year scheduling  
** Configuration of Mettler Balance on System K.
** Replacement of Bluetooth Indicator
** Install Bluetooth dongle for each Indicator


h3. Phase Two - Bleed Room Local Area Network

Using  the Tru-Test indicator as data repository, can work with a single bleed station, but when multiple bleed stations are brought into production, manual data synchronization between Tru-Test indicators will lead to data integrity problems for Bleed Room Operations and back end Project Management Systems.

To scale bleed/weigh event operations to use multiple weigh/bleed stations and to effectively integrated collected data with back end project management information systems the Bleed Operations System will require a further evolution.  

Second phase of the Bleed Operation Network Enterprise System provides the network attachment, central control and management of bleed station measurement devices and the central logging of bleed event data. 

h4. Goals

# Provide a local network gateway appliance for the integration and control of all network attached Tru-Test indicators, and Mettler Balances.
# Network attachment of all weight measurement data producing sensors (Tru-Test indicators producing Animal Weight measurements and Mettler balances producing Blood Weight Measurements).  Attachment will be via RS232 serial connections to local area network device servers.  (Attachment of all RFID readers will continue to be via bluetooth dongles on individual Tru-Test indicators.)
# Provide Tru-Test indicators with features
## Display Animal Life data attributes
### EID - Electronic Animal Id
### Tag# - Animal visual Tag number
### Species - Animal Species
### BW Mult - Blood Weight multiplier (.01)
## Display Bleed Event attributes
### Weight - Animal Weight
### Calc BW - calculated blood weight (based on global value of .01 of animal weight)
### Act BW - actual blood weight drawn from animal
## Audible tone to alert the bleeder as the max allowable blood weight is approached. Configurable percentage of Act BW to Cal BW.
# Provide means to configure the system to support multiple bleed room bleed/weigh stations.
# Provide a central removable data repository for the collection of all bleed event information generated from one or more bleed/weigh stations.
## Central Data repository will capture
### Animal Life data attributes
#### EID - Electronic Animal Id
### Bleed Event attributes
#### Date - of event
#### Time - of event
#### Weight - Animal Weight
#### Act BW - Actual blood weight 
# Provide data import utilities for integration with a desktop computer containing historical animal life and event data.


h4. Steps

# Remove PLC controller from wall unit.
# Add 110 volt power (computer service grade)  to the wall enclosure.
# Add six or more grounded power receptacles inside wall enclosure. 
# Mount 2, two port Device Servers in wall enclosure.  (These will connect the existing two balances, and two indicators.)
# Mount network hub in wall enclosure.  Hub will need to support 4 or more 10/100 baseT network connections. (For the network appliance, two device servers, and a diagnostic/management connection.)
# Will need to have two RS232 cables run from both the Station 'O' and Station 'K' to the wall enclosure.
## There are cables already existing from Station 'O' to the wall enclosure.  One for indicator power and one for indicator RS232.
### Can these be reused? Insure two cables currently installed from Bleed/Weigh Station 'O' to wall mounted enclosure have correct number of conductors and are the right gauge of wire for RS232 signaling.
## We now have indicator power of Station 'O' going to the enclosure.  Do we want to follow this precedent and run 4 RS232 cables and a power connection to each indicator?  If so that's three cables (with multiple conductors each) from each station to the enclosure.
## Device servers have nine pin male connectors. So our RS232 cables will have to have 9 pin female cables. 
## Install a female 9 pin D connector and a male 9 pin D connector to connect cables to the bleed/weigh station balances and indicators. (One Female and one Male connectors at each station. Four connectors total.)
## *Dave Berg of ID-ology will validate above and specify type, number of conductors, wall enclosure connectors and gauge to Abbott facility engineering.*
# Mount network gateway appliance in wall enclosure.
# Install local network cabling to connect appliance and device server(s)  to the network hub.
# Connect a removable usb memory stick to network gateway appliance.
# Configure Tracker Information Router (network gateway appliance) to support the two bleed stations (two balances, two indicators).
# Install "Tracker Information Manager":http://tracker.verticon.com/index.html (Desktop client) on laptop.

h4. Schedule

* Abbott Site preparation - target date ~12/19/09
** Wiring of wall enclosure power 
** RS232 wiring and adding connectors
* Programming and System integration testing 
** Tracker Information Router (appliance) - target date ~12/19/09
** Tracker Information Manager (desktop/laptop client application software) - target date ~12/23/09
*** Based on scheduling and/or Abbott IT approval & coordination  this may be deferred  to a third phase.
* Shipment/Acquisition of network hub.
* System installation site visit - ID-ology and Verticon 
** ~12/29-30/09
* Completion estimate ~12/31/09

