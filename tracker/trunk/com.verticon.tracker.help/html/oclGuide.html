<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter&nbsp;Tracker OCL.&nbsp;Query and select Tracker objects with the Object Constraint Language</title><meta content="DocBook XSL Stylesheets V1.72.0" name="generator"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="N10001"></a>Chapter&nbsp;Tracker OCL.&nbsp;Query and select Tracker objects with the Object Constraint Language</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#N10006">OCL Introduction</a></span></dt><dt><span class="section"><a href="#N10013">OCL Interpreter Examples</a></span></dt></dl></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10006"></a>OCL Introduction</h2></div></div></div><p>
		The Object Constraint Language,
		<acronym class="acronym">OCL</acronym>
		is a declarative text language for describing rules that apply
		to document models. Within Tracker, documents model an
		Agricultural Premises that contain Animals and an EventHistory
		of significant Events that happen to these Animals.
	</p><p>
		Within Tracker Editors <acronym class="acronym">OCL</acronym>
		rules can be used to both query and select specific information about the
		Animals and the Events that have taken place on the Premises.
	</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N10013"></a>OCL Interpreter Examples</h2></div></div></div><p>
			The following are example
			<acronym class="acronym">OCL</acronym>
			Interpreter rules that can be used for the querying Tracker
			documents.  All examples use the Context Premises.
			
			<div class="example"><a name="N1001B"></a><p class="title"><b>Example&nbsp;Tracker OCL.1.&nbsp;
					Listing of animals and the number of events associated with each.
				</b></p><div class="example-contents"><pre class="programlisting">
animals.animal -&gt; collect(
	a: Animal | Tuple {
		animal: Animal = a,
		numEvents: Integer = Event.allInstances()-&gt;select(ain=a.ain) -&gt;size()
	}
)
  				</pre></div></div><br class="example-break">
  			<div class="example"><a name="N10022"></a><p class="title"><b>Example&nbsp;Tracker OCL.2.&nbsp;
					Listing of animals and the set of events associated with each.
				</b></p><div class="example-contents"><pre class="programlisting">
animals.animal -&gt; collect(
	a: Animal | Tuple {
		ain: AnimalId = a.ain,
		events: Set(Event) = Event.allInstances()-&gt;select(ain=a.ain)
	}
)
  				</pre></div></div><br class="example-break">
  			<div class="example"><a name="N10029"></a><p class="title"><b>Example&nbsp;Tracker OCL.3.&nbsp;
					Listing of animalIds and the WeighIn events
					associated with each.  
				</b></p><div class="example-contents"><pre class="programlisting">
animals.animal -&gt; collect(
	a: Animal | Tuple {
		ain: AnimalId = a.ain,
		weighIns: Set(WeighIn) = WeighIn.allInstances()-&gt;select(ain=a.ain)
	}
)
  				</pre></div></div><br class="example-break">
  			<div class="example"><a name="N10030"></a><p class="title"><b>Example&nbsp;Tracker OCL.4.&nbsp;
					Listing of animalIds and the Weights
					associated with each. 
				</b></p><div class="example-contents"><pre class="programlisting">
animals.animal -&gt; collect(
	a: Animal | Tuple {
		ain: AnimalId = a.ain,
		weighIns: Set(Integer) = WeighIn.allInstances()-&gt;select(ain=a.ain)-&gt;collect(wi:WeighIn | wi.weight) -&gt;asSet()
	}
)
  				</pre></div></div><br class="example-break">
  			
  	
  	</p></div></div></body></html>